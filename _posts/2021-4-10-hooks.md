---
title: Hooks
description: Hook 就是钩子的意思，在函数组件中把 React 的状态和生命周期等这些特性钩入进入，这就是 React 的 Hook.
tags: 
- React
---

# 为何使用 Hooks

1. **代码可读性更强**，原本同一块功能的代码逻辑被拆分在了不同的生命周期函数中，容易使开发者不利于维护和迭代，通过 ```React Hooks``` 可以将功能代码聚合，方便阅读维护.<br>
2. **组件树层级变浅**，在原本的代码中，我们经常使用 ```HOC/render props``` 等方式来复用组件的状态，增强功能等，无疑增加了组件树层数及渲染，而在 ```React Hooks``` 中，这些功能都可以通过强大的自定义的 ```Hooks``` 来实现.<br>

***

# useState 保存组件状态

在类组件中，我们使用 ```this.state``` 来保存组件状态，并对其修改触发组件重新渲染.<br>
比如下面这个简单的计数器组件，很好诠释了类组件如何运行：

```bash
import React from 'react';

class App extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            count: 0
        }
    }

    render() {
        const { count } = this.state;

        return (
            <div>
                Count: {count}
                <button onClick={() => this.setState({ count: count + 1 })}>+</button>
                <button onClick={() => this.setState({ count: count - 1 })}>-</button>
            </div>
        )
    }
}
```

一个简单的计数器组件就完成了，而在函数组件中，由于没有 ```this``` 这个黑魔法，```React``` 通过 ```useState``` 来帮我们保存组件的状态.<br>
以前的函数式组件被成为纯函数组件或者无状态组件，是只能接受父组件传来的 ```props``` 并且只能做展示功能，不能使用 ```state``` 也没有生命周期.<br>
现在 ```State Hook``` 可以让函数式组件使用状态.<br>

**useState 是 React 的一个 Hook，它是一个方法，可以传入值作为 state 的默认值，返回一个数组，数组的第一项是对应的状态（默认值会赋予状态），数组的第二项是更新状态的函数**
