---
title: 微信小程序生命周期
description: 微信小程序的生命周期包括应用生命周期、页面生命周期.
tags:
- 微信小程序
---

# 应用生命周期

```App()``` 函数用来注册一个小程序，接受一个 ```object``` 参数，其指定小程序的生命周期函数等.<br>
必须在 ```app.js``` 中调用，必须调用且只能调用一次，```app.js``` 中定义了一些应用的生命周期函数.<br>

**前台：**当用户点击左上角关闭，或者按了设备的 **Home** 键离开微信，小程序并没有直接销毁，而是进入后台.<br>
**后台：**当再次进入微信或再次打开小程序，又会从后台进入前台.<br>

* ```onLaunch：```初始化小程序触发，全局只触发一次.<br>
* ```onShow：```小程序初始化完成或用户从后台切换到前台显示时触发.<br>
* ```onHide：```用户从前台切换到后台隐藏时触发.<br>
* ```onError：```小程序发生脚本错误，或者 **api** 调用失败时，会触发 **onError** 并带上错误信息.<br>

![应用生命周期](https://z3.ax1x.com/2021/04/03/cuZd2R.png)

***

# 页面生命周期

* ```onLoad：```首次进入页面加载时触发，可以在 **onLoad** 的参数中获取打开当前页面路径中的参数.<br>
* ```onShow：```加载完成后，后台切到前台或重新进入页面时触发.<br>
* ```onReady：```页面首次渲染完成时触发.<br>
* ```onHide：```从前台切到后台或进入其他页面触发.<br>
* ```onUnload：```页面卸载时触发.<br>

**页面生命周期总结：**<br>
1.onLoad：页面加载
    - 一个页面只会调用一次
    - 参数可以获取 wx.navigateTo 和 wx.redirectTo 及其中的 query
2.onShow：页面显示
3.onReady：页面初次渲染完成
4.onHide：页面隐藏
5.onUnload：页面卸载



