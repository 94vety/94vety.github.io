---
title: 箭头函数与普通函数区别
description: ES6 箭头函数与普通函数的区别
tags:
- JavaScript
---

# 箭头函数不会创建自己的 this

**MDN** 上对箭头函数中 **this** 的解释<br>

> 箭头函数不会创建自己的 **this**，所以它没有自己的 **this**，它只会从自己的作用域链的上一层继承 **this**。

箭头函数没有自己的 **this**，它会捕获自己在 **定义时** 所处的 **外层执行环境的 this**，并继承这个 **this** 值。所以，箭头函数中 **this** 的指向在它被定义的时候就已经确定了，以后就不会改变。<br>

```bash
var id = 'Global'

function fun1() {
    setTimeout(function() {
        console.log(this.id)
    }, 2000)
}

function fun2() {
    setTimeout(() => {
        console.log(this.id)
    }, 2000)
}

fun1.call({ id: 'Obj' })
# Global
fun2.call({ id: 'Obj' })
# Obj
```

1. 函数 **fun1** 中的 **setTimeout** 中使用普通函数，2 秒后函数执行时，函数是在全局作用域执行的，所以 **this** 指向 **window** 对象，**this.id** 就指向全局变量 **id**，所以输出 **Global**.<br>
2. 函数 **fun2** 中的 **setTimeout** 中使用的是箭头函数，这个箭头函数的 **this** 定义时就确定了，它继承了外层的 **fun2** 的执行环境中的 **this**，而 **fun2** 调用时 **this** 被 **call** 方法改变到了对象 **{id: 'Obj'}** 中，所以输出 **'Obj'**.<br>  
